{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Todo MCP Tools",
  "description": "MCP (Model Context Protocol) tool definitions for todo task management",
  "version": "1.0.0",
  "tools": [
    {
      "name": "add_task",
      "description": "Create a new task for the user",
      "inputSchema": {
        "type": "object",
        "properties": {
          "user_id": {
            "type": "string",
            "description": "User identifier (required for user isolation)"
          },
          "title": {
            "type": "string",
            "description": "Task title (1-200 characters)",
            "minLength": 1,
            "maxLength": 200
          },
          "description": {
            "type": "string",
            "description": "Optional task description (max 1000 characters)",
            "maxLength": 1000,
            "default": ""
          }
        },
        "required": ["user_id", "title"]
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "task_id": {
            "type": "integer",
            "description": "Unique identifier for the created task"
          },
          "status": {
            "type": "string",
            "enum": ["created"],
            "description": "Operation status"
          },
          "title": {
            "type": "string",
            "description": "Task title (confirmation)"
          }
        },
        "required": ["task_id", "status", "title"]
      },
      "errors": [
        {
          "code": "INVALID_PARAMETERS",
          "message": "Missing or invalid parameters (user_id or title)"
        },
        {
          "code": "UNAUTHORIZED",
          "message": "User not authorized to create tasks"
        },
        {
          "code": "DATABASE_ERROR",
          "message": "Failed to create task in database"
        }
      ],
      "examples": [
        {
          "input": {
            "user_id": "user_123",
            "title": "Buy groceries",
            "description": "Milk, eggs, bread"
          },
          "output": {
            "task_id": 5,
            "status": "created",
            "title": "Buy groceries"
          }
        },
        {
          "input": {
            "user_id": "user_123",
            "title": "Call mom"
          },
          "output": {
            "task_id": 6,
            "status": "created",
            "title": "Call mom"
          }
        }
      ]
    },
    {
      "name": "list_tasks",
      "description": "Retrieve tasks from the user's task list with optional status filter",
      "inputSchema": {
        "type": "object",
        "properties": {
          "user_id": {
            "type": "string",
            "description": "User identifier (required for user isolation)"
          },
          "status": {
            "type": "string",
            "enum": ["all", "pending", "completed"],
            "description": "Filter tasks by completion status",
            "default": "all"
          }
        },
        "required": ["user_id"]
      },
      "outputSchema": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "id": {
              "type": "integer",
              "description": "Task identifier"
            },
            "title": {
              "type": "string",
              "description": "Task title"
            },
            "description": {
              "type": "string",
              "description": "Task description"
            },
            "completed": {
              "type": "boolean",
              "description": "Task completion status"
            },
            "created_at": {
              "type": "string",
              "format": "date-time",
              "description": "Task creation timestamp"
            }
          },
          "required": ["id", "title", "completed", "created_at"]
        }
      },
      "errors": [
        {
          "code": "INVALID_PARAMETERS",
          "message": "Missing or invalid user_id"
        },
        {
          "code": "UNAUTHORIZED",
          "message": "User not authorized to list tasks"
        },
        {
          "code": "DATABASE_ERROR",
          "message": "Failed to retrieve tasks from database"
        }
      ],
      "examples": [
        {
          "input": {
            "user_id": "user_123",
            "status": "pending"
          },
          "output": [
            {
              "id": 1,
              "title": "Buy groceries",
              "description": "Milk, eggs, bread",
              "completed": false,
              "created_at": "2026-02-10T10:00:00Z"
            },
            {
              "id": 2,
              "title": "Call mom",
              "description": "",
              "completed": false,
              "created_at": "2026-02-10T11:00:00Z"
            }
          ]
        },
        {
          "input": {
            "user_id": "user_123",
            "status": "all"
          },
          "output": [
            {
              "id": 1,
              "title": "Buy groceries",
              "description": "",
              "completed": false,
              "created_at": "2026-02-10T10:00:00Z"
            },
            {
              "id": 3,
              "title": "Pay bills",
              "description": "",
              "completed": true,
              "created_at": "2026-02-09T15:00:00Z"
            }
          ]
        }
      ]
    },
    {
      "name": "complete_task",
      "description": "Mark a task as complete",
      "inputSchema": {
        "type": "object",
        "properties": {
          "user_id": {
            "type": "string",
            "description": "User identifier (required for user isolation)"
          },
          "task_id": {
            "type": "integer",
            "description": "Task identifier to mark as complete"
          }
        },
        "required": ["user_id", "task_id"]
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "task_id": {
            "type": "integer",
            "description": "Task identifier"
          },
          "status": {
            "type": "string",
            "enum": ["completed"],
            "description": "Operation status"
          },
          "title": {
            "type": "string",
            "description": "Task title (confirmation)"
          }
        },
        "required": ["task_id", "status", "title"]
      },
      "errors": [
        {
          "code": "INVALID_PARAMETERS",
          "message": "Missing or invalid parameters (user_id or task_id)"
        },
        {
          "code": "NOT_FOUND",
          "message": "Task not found or user not authorized"
        },
        {
          "code": "DATABASE_ERROR",
          "message": "Failed to update task in database"
        }
      ],
      "examples": [
        {
          "input": {
            "user_id": "user_123",
            "task_id": 3
          },
          "output": {
            "task_id": 3,
            "status": "completed",
            "title": "Buy groceries"
          }
        }
      ]
    },
    {
      "name": "delete_task",
      "description": "Remove a task from the user's task list",
      "inputSchema": {
        "type": "object",
        "properties": {
          "user_id": {
            "type": "string",
            "description": "User identifier (required for user isolation)"
          },
          "task_id": {
            "type": "integer",
            "description": "Task identifier to delete"
          }
        },
        "required": ["user_id", "task_id"]
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "task_id": {
            "type": "integer",
            "description": "Task identifier"
          },
          "status": {
            "type": "string",
            "enum": ["deleted"],
            "description": "Operation status"
          },
          "title": {
            "type": "string",
            "description": "Task title (confirmation)"
          }
        },
        "required": ["task_id", "status", "title"]
      },
      "errors": [
        {
          "code": "INVALID_PARAMETERS",
          "message": "Missing or invalid parameters (user_id or task_id)"
        },
        {
          "code": "NOT_FOUND",
          "message": "Task not found or user not authorized"
        },
        {
          "code": "DATABASE_ERROR",
          "message": "Failed to delete task from database"
        }
      ],
      "examples": [
        {
          "input": {
            "user_id": "user_123",
            "task_id": 2
          },
          "output": {
            "task_id": 2,
            "status": "deleted",
            "title": "Old meeting"
          }
        }
      ]
    },
    {
      "name": "update_task",
      "description": "Modify task title or description",
      "inputSchema": {
        "type": "object",
        "properties": {
          "user_id": {
            "type": "string",
            "description": "User identifier (required for user isolation)"
          },
          "task_id": {
            "type": "integer",
            "description": "Task identifier to update"
          },
          "title": {
            "type": "string",
            "description": "New task title (optional, 1-200 characters)",
            "minLength": 1,
            "maxLength": 200
          },
          "description": {
            "type": "string",
            "description": "New task description (optional, max 1000 characters)",
            "maxLength": 1000
          }
        },
        "required": ["user_id", "task_id"],
        "anyOf": [
          {"required": ["title"]},
          {"required": ["description"]}
        ]
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "task_id": {
            "type": "integer",
            "description": "Task identifier"
          },
          "status": {
            "type": "string",
            "enum": ["updated"],
            "description": "Operation status"
          },
          "title": {
            "type": "string",
            "description": "Updated task title"
          }
        },
        "required": ["task_id", "status", "title"]
      },
      "errors": [
        {
          "code": "INVALID_PARAMETERS",
          "message": "Missing or invalid parameters (must provide title or description)"
        },
        {
          "code": "NOT_FOUND",
          "message": "Task not found or user not authorized"
        },
        {
          "code": "DATABASE_ERROR",
          "message": "Failed to update task in database"
        }
      ],
      "examples": [
        {
          "input": {
            "user_id": "user_123",
            "task_id": 1,
            "title": "Buy groceries and fruits"
          },
          "output": {
            "task_id": 1,
            "status": "updated",
            "title": "Buy groceries and fruits"
          }
        },
        {
          "input": {
            "user_id": "user_123",
            "task_id": 1,
            "description": "Milk, eggs, bread, apples, bananas"
          },
          "output": {
            "task_id": 1,
            "status": "updated",
            "title": "Buy groceries"
          }
        }
      ]
    }
  ]
}
